# 013: 레이아웃 재배치 및 UI 개선

**날짜**: 2026-02-13

## 변경 요약

1. Site list를 하단 패널 왼쪽으로 이동 (지도 전체 너비 확보)
2. Photos 탭 통합 (Screenshots + Site Photos → 단일 갤러리 + 카테고리 콤보박스)
3. Description/Notes 높이 축소
4. Analyze 클릭 시 Evaluation 탭 전환
5. 사이트 추가 후 마커 빨간색 선택 안 되는 버그 수정
6. 도로 거리 라벨 배경 박스 제거

## 변경 내용

### GhEval.py — 레이아웃 재배치

| 항목 | 변경 전 | 변경 후 |
|------|---------|---------|
| 상단 | h_splitter(site list \| map) | map (전체 너비) |
| 하단 | tab_widget | h_splitter(site list \| tab_widget) |
| site list 비율 | 1:4 | 2:5 (약 2배 넓음) |

사이트 추가/수정 시 `_refresh_markers()` → `select_site_by_id()` 순서로 변경하여 선택 마커가 빨간색으로 표시되도록 수정.

Analyze 클릭 시 `tab_widget.setCurrentWidget(eval_panel)` 추가.

### GhComponents.py — Photos 탭 통합

- Screenshots/Site Photos 두 GroupBox → 단일 갤러리
- 상단 툴바: `Show:` 콤보박스 (All / Screenshots / Site Photos) + Import 버튼
- 단일 `_FlowLayout`에 모든 이미지 표시
- Description `maxHeight`: 100 → 50
- Notes `maxHeight`: 60 → 40

### templates/map_view.html — 거리 라벨 스타일

```css
/* 변경 전 */
background: rgba(200,0,0,0.8); color: #fff;

/* 변경 후 */
background: none; color: #c00; font-weight: bold;
text-shadow: 1px 1px 2px #fff, ...;
```

## 수정 파일

| 파일 | 변경 |
|------|------|
| `GhEval.py` | 레이아웃 재배치, 마커 선택 순서 수정, Analyze 탭 전환 |
| `GhComponents.py` | Photos 통합, Description/Notes 높이 축소 |
| `templates/map_view.html` | 거리 라벨 배경 제거 |
