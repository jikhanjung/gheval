# 007: Analyze 버튼 — 통합 분석 워크플로우

**날짜**: 2026-02-13

## 변경 요약

1. Evaluation 탭에서 accessibility, development_signs 슬라이더 숨김
2. 탭 컨트롤 우상단에 **Analyze** 버튼 추가 (corner widget)
3. 버튼 클릭 시 도로 거리 측정 + 스크린샷 + 식생 분석을 자동 순차 실행

## 변경 내용

### GhComponents.py — 슬라이더 숨김

- `accessibility`, `development_signs` 슬라이더는 생성되지만 grid에 추가하지 않음
- 데이터 로딩/저장/리스크 계산은 기존과 동일하게 동작 (sliders dict에 존재)
- UI에는 Road Proximity, Vegetation Cover만 나란히 표시

### GhEval.py — Analyze 버튼 + 통합 분석

**새 import**: `math`, `QPushButton`, `road_distance_to_score`, `RoadDistanceWorker`

**Analyze 버튼**: `QTabWidget.setCornerWidget()`으로 탭 헤더 우측에 배치

**분석 워크플로우** (`_run_full_analysis`):

| Step | 동작 | 설명 |
|------|------|------|
| 1/3 | 도로 거리 측정 | OSRM API → road_proximity 슬라이더 자동 설정 |
| 2/3 | 도로 뷰 캡처 | 도로까지 보이는 줌 레벨로 이동 → 스크린샷 |
| 3/3 | 식생 분석 | 분석 반경이 들어오는 줌 레벨로 이동 → 스크린샷 + land cover 분석 |

**줌 레벨 계산** (`_zoom_for_meters`):
- `mpp = 156543.03392 * cos(lat) / 2^z` 기반
- 800px 뷰 기준, 거리의 2.6배(양쪽 + 30% 여유)가 화면에 맞는 줌 계산
- 범위 제한: zoom 1-19

**완료 처리** (`_analysis_finish`):
- 도로 라인 복원
- 사진 갤러리 새로고침
- 버튼 re-enable

## 수정 파일

| 파일 | 변경 |
|------|------|
| `GhComponents.py` | EvaluationPanel: accessibility, development_signs 그리드에서 제외 |
| `GhEval.py` | import 추가, Analyze 버튼, 통합 분석 메서드 7개 추가 |
