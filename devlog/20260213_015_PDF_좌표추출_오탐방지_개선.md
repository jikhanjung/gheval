# 015: PDF 좌표 추출 오탐 방지 개선

**Date**: 2026-02-13
**Related**: 014 (P05 Phase 1)

## 문제

실제 PDF 테스트 시 본문의 일반 숫자(`2.19 2.43`, `1.83 1.00` 등)가 plain decimal 좌표로 오인식됨.
실제 좌표는 DMS 형식(`36°39'25''N 128°05'27''E`)이었으나 `''`(single quote 2개)를 초 기호로 인식하지 못함.

## 변경 사항

### GhCommons.py

1. **한국 위경도 범위 상수 추가**
   - `KOREA_LAT_RANGE = (33.0, 43.5)`, `KOREA_LNG_RANGE = (124.0, 132.0)`
   - Plain decimal 패턴(pattern 6)에만 적용 — 모호한 숫자쌍의 오탐 방지
   - DMS/DDM/Korean DMS 등 명시적 형식은 전 세계 범위 유지

2. **DMS 초(seconds) 기호 패턴 확장**
   - `''`(single quote 2개)를 `″` 대신 사용하는 PDF 대응
   - SEC 패턴: `[\"\u2033\u201d]` → `(?:[\"\u2033\u201d]|\'\')`

### GhDialogs.py

3. **PdfImportDialog에 파일 목록 위젯 추가**
   - `QListWidget`으로 추가된 PDF 파일명 표시
   - 드래그 앤 드롭 시 즉시 목록에 반영

4. **QWidget 누락 import 수정** (기존 런타임 에러)

## 수정 파일

| File | Change |
|------|--------|
| `GhCommons.py` | `KOREA_LAT_RANGE`/`KOREA_LNG_RANGE` 상수, plain decimal 범위 제한, SEC 패턴 `''` 지원 |
| `GhDialogs.py` | `QWidget`/`QListWidget` import 추가, 파일 목록 위젯, 드래그 앤 드롭 |
