# 005: 여름 위성영상 Wayback 구현

**날짜**: 2026-02-13
**계획**: P03

## 변경 내용

Esri Wayback Archive를 이용하여 가장 최근 여름(6~8월) 위성영상을 자동으로 선택하여 표시하는 기능 추가. 가을 촬영 영상에서 식생이 갈색으로 보이는 문제를 해결하기 위해, 여름 영상을 별도 맵 타입으로 제공.

## 주요 결정

- MAP_TYPES에 "SKYVIEW (Summer)" 추가, JS에서는 "SKYVIEW_SUMMER"로 전달
- Wayback config JSON을 24시간 TTL로 로컬 캐시
- 별도 버전 선택 UI 없이, 6~8월 중 가장 최신 버전을 자동 결정
- WaybackLoader QThread로 비동기 fetch, 로딩 중 fallback으로 기본 satellite layer 표시

## 수정 파일

| 파일 | 변경 |
|------|------|
| `GhCommons.py` | `WAYBACK_CONFIG_URL`, `fetch_wayback_summer_version()`, `_find_latest_summer()`, MAP_TYPES 확장 |
| `GhMapBridge.py` | `set_wayback_version` signal, `set_wayback()` 메서드 |
| `templates/map_view.html` | `waybackLayer` 변수, `SKYVIEW_SUMMER` 분기, `setWaybackVersion()` 함수, signal 연결 |
| `GhComponents.py` | `WaybackLoader` QThread, `MapWidget.set_wayback_version()` |
| `GhEval.py` | `_load_summer_wayback()`, `_on_wayback_loaded()`, map type handler 분기 |

## 검증

- `fetch_wayback_summer_version()` → `(49999, '2025-07-31')` 반환 확인
- 모든 파일 syntax/import 검증 통과
